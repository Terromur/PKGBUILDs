# PKGBUILDs

Это персональная коллекция PKGBUILDS от Ventureoo, но изменённая с агрессивными оптимизациями, кто хочет получить производительность выше после сборки. 
Так же были добавлены мои PKGBUILDS, которые я сопровожданию и форкнутый CachyOS-Settings.

Ссылка на официальный репозиторий PKGBUILDS Ventureoo - https://github.com/ventureoo/PKGBUILDs

Ссылка на официальный репозиторий CachyOS-Settings - https://github.com/CachyOS/CachyOS-Settings

Так же рекомендую свой репозиторий makepkg.conf для сборки пакетов с более агрессивными флагами оптимизации: https://github.com/Terromur/makepkg.conf

Был добавлен Cachyos-Settings с изменениями:
- Оптимизация интернета, увеличение стабильности, улучшение работы прокси, улучшение безопасности, улучшение работы памяти ядра и прочие дополнительные оптимизации
- Автоматический расчёт значений kernel.shmmax и kernel.shmall в cachyos-settings.install
- Автоматический расчёт значения vm.min_free_kbytes в cachyos-settings.install

Была добавлена директория GNOME с пакетами gnome-shell-pure-git, mutter-pure-git, gnome-session-pure-git, gsettings-desktop-schemas, gnome-settings-daemon-pure-git, gnome-control-center-pure, gnome-keyring, libadwaita-pure:
- Прочитать README.md в директории GNOME

Был добавлен mingw-w64-gcc-pure:
- Обновление до версии 14.2.0
- Поддержка флагов сборки makepkg
- Добавление двух патчей на совместимость openmp и увеличение производительности
- Рекомендуется собрать его, после этого собирать wine и dxvk для увеличения производительности и стабильности работы игр
- Он может исправить проблемы с запуском игр

Был добавлен llvm-mingw-w64-toolchain-msvcrt-bin:
- Версия LLVM 19.1.7
- Для сборки dxvk-pure-git (обязательно собирайте с clang) 

Был добавлен ElyPrismLauncher-offline-git:
- Больше необязательно подключать аккаунт Microsoft или ely.by
- Прочитать README.md в директории

Были добавлены pipewire-git и wireplumber-git:
- Оптимизация пакетов и отключение лишних параметров
- Максимальный приоритет для pipewire (смотреть PKGBUILD и удаление параметров будет использоваться значения по умолчанию)
- Был отключён audiomixer для pipewire (включите, если наблюдаете проблемы с воспроизведением нескольких аудиопотоков сразу)
- Добавлен патч на снижение задержек для pipewire
- Добавлен патч на снижение задержек для pipewire-alsa
- Добавлен патч на увеличение уровня ресемплера по умолчанию для pipewire
- Добавлен патч на повышение приоритетов кодеков Bluetooth для pipewire
- Добавлен патч на отключение времени ожидания для wireplumber

Был добавлен xorg-xwayland-pure-git:
- Оптимизация пакета и отключение лишних параметров
- Добавление патча на улучшение работы указателя
- Добавление патча на стабилизацию кадров
- Добавлен патч на отключение лишней отладки
- Добавлен патч на оптимизацию
- Добавлен патч на оптимизацию вызовов vblank для xorg-xwayland

Был добавлен alsa-lib:
- Оптимизация параметров
- Добавлен патч на корректное указание библиотек для стабильности сборки
- Добавлен патч на удаление лишних параметров в dmix/dsnoop и оптимизация
- Добавлен патч на корректное использование функций для стабильности

Был добавлен labwc-pure-git:
- Оптимизация и отключение лишних параметров
- Отключение xwayland (смотреть PKGBUILD)
- Добавлен патч на включение по умолчанию тиринг (смотреть PKGBUILD)

Был добавлен swfbar-pure-git:
- Оптимизация и отключение лишних параметров
- Был отключен bluez (смотреть PKGBUILD)

Был добавлен mesa-pure-git:
- Все теже изменения, которые есть в mesa-pure
- Была автоматизирована сборка применения патчей

Был добавлен mpd:
- Оптимизация и отключение лишних параметров
- Добавлен патч на корректное использование установленного sndfile

Был добавлен glib2-pure:
- Оптимизация и отключение лишних параметров
- Добавлены патчи на оптимизацию

Был добавлен wlroots-pure-git:
- Оптимизация и отключение лишних параметров
- Был отключён xwayland (смотреть PKGBUILD, если нужно включить)

Был добавлен ghostty:
- Оптимизация и сборка под native

Был добавлен musepack:
- Патчи из Arch Linux
- Добавление патча на стабильность работы массивов

Был добавлен libmad:
- Патчи из Arch Linux
- Добавление патча на исправление ассемблерного кода

Был добавлен libsndfile:
- Добавление патчей на исправления уязвимостей и ошибок
- Добавлен патч на поддержку новых стандартов C для стабильности сборки

Был добавлен rnnoise:
- Был добавлен патч на исправление компиляции

Был добавлен irqbalance-git:
- Взят один патч из Арч Линукс
- Добавлен патч на увеличение LimitNOFILE до 4096

Был добавлен libglvnd-pure-git:
- Оптимизация и отключение лишних параметров
- Добавлен патч на отключение GLX тестов
- Добавлен патч на проверку совместимости поиска библиотек и исправление падения графического стэка

Был добавлен wayland-git:
- Оптимизация и отключение лишних параметров

Был добавлен mpv-pure-git:
- Все теже изменения, которые есть в mpv-pure

Был изменён mesa-pure:
- Добавление агрессивной оптимизации -O3 и собирание пакета в native
- Включение бета Vulkan
- Добавление патчей на оптимизацию
- Отключение дополнительных ненужных опций
- Добавление опций на оптимизацию и ускорения сборки пакета
- Добавление комментария про -falign-functions=32 -falign-functions=64 и -ftree-vectorize в PKGBUILD

Был изменён dxvk-pure-git:
- Агрессивная оптимизация -O3 и другие флаги
- Увеличение стабильности в других аспектах.
- Был добавлен патч для D3D9 на исправление Back Buffers для мультисэмплинга, что может улучшить производительность, устранить утечки ресурсов и увеличить стабильность работы игр
- Был добавлен патч на использование dxvk.conf в пути ~/.config/dxvk.conf
- Был добавлен патч на удаление проверки версий Vulkan (актуально для поддержки работы старых видеокарт)
- Обновлённые флаги, взятые из Proton. Увеличение стабильности и корректное использование флагов для mingw 64
- Добавлены комментарии с флагами, которые вы можете добавить
- Рекомендуется прочитать комментарии, если у вас имеются проблемы с запуском игр dxvk! Либо сначала собрать mingw-w64-gcc и после этого собрать dxvk
- Была добавлена возможность сборки dxvk-pure-git с mingw-w64-llvm (использовать PKGBUILD.clang), вам необходимо собрать сначала llvm-mingw-w64-toolchain-msvcrt-bin, после этого собирать уже пакет
- Сборка с обычным PKGBUILD только с gcc! Сборка с PKGBUILD.clang только на clang!
- Дополнительная информация в директории dxvk-pure-git в README.md

Был изменён wine-pure:
- Агрессивная оптимизация -O3 и другие флаги
- Добавление репозитория с патчами
- Добавление комментария про дополнительные включения флагов оптимизации в PKGBUILD
- Сборка только с gcc!

Был изменён mpv-pure:
- Были автоматизированы параметры при сборке
- Отпимизация и отключение лишних параметров
- Добавлен патч на увеличение кэша шейдеров

Если какой-то пакет собирается с ошибками, то, пожалуйста, проверьте сначала PKGBUILD от Ventureoo в его официальном репозитории, а потом сообщайте баг мне.

Те пакеты, которые добавил конкретно я - сообщать о баге напрямую мне, создав issue или написать в Telegram: https://t.me/Terromur
